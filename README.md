# Project for deploying git 2 rdf via docker compose

This project purpose it to enable the deployment of the complete git2rdflab infrastructure as a docker compose target. 

## Local deployment
As of the 03rd of March 2024 the images of the target services are not yet available on docker hub as images.
Therefor they need to be built in the corresponding projects via the given scripts. This way, the required
service images will then be available locally. 

The services (especially the worker-service) have secrets, that need to be made available via environment variables.
The given .env file in this project is only an example file, which can be used as a reference, when creating your own 
.env file to then deploy the entire project via compose. The given scripts expect your .env.local file to be located
in the ./local-development/compose/.env.local location. The 'local-development' folder is part of the .gitignore,
and therefore your secrets will not be committed this way.

## .Env Variables
The used variables are only .env variables for the docker compose file. In the end, the .env variables only shadow
actual environment variables from the target projects. The following table only maps the explanations of the
environment variables from the corresponding projects to the corresponding .env variables in this project for the 
docker compose.

| Environment Variables                        | Description                                                                                                                                                                                                                                                                                                                             |
|----------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| POSTGRES_PASSWORD                            | The password of the postgres.                                                                                                                                                                                                                                                                                                           |
| GITHUB_LOGIN_APP_ID                          | The id of your github app, which you use for authentication to github. The id can be retrieved from the user -> settings -> developer settings -> (github app) menu. For more information see 'https://docs.github.com/en/apps/creating-github-apps/authenticating-with-a-github-app/generating-a-json-web-token-jwt-for-a-github-app'. |
| GITHUB_LOGIN_APP_INSTALLATION_ID             | The installation id of your github app, which you use for authentication to github. The id can be retrieved for example via 'GET /users/{username}/installation'. For more information see 'https://docs.github.com/en/apps/creating-github-apps/authenticating-with-a-github-app/authenticating-as-a-github-app-installation'.         |
| GITHUB_LOGIN_KEY                             | The private pem-base64-key generated by your github app. Var should only contain the base64. Remove the Key-Type declarations and line breaks. Will be used to sign jwt tokens. For more information see 'https://docs.github.com/en/apps/creating-github-apps/authenticating-with-a-github-app/managing-private-keys-for-github-apps'. |
| GITHUB_LOGIN_SYSTEM_USER_NAME                | Your github login username. Is used in combination with your personal access token to pull git repos from github.                                                                                                                                                                                                                       |
| GITHUB_LOGIN_SYSTEM_USER_PERSONALACCESSTOKEN | A personal access token for your github user. Is used in combination with your username to pull git repos from github.                                                                                                                                                                                                                  |
